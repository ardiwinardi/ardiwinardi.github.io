{"version":3,"sources":["webpack:///./src/pages/user/user-page.js","webpack:///./src/components/PrivateRoute.js","webpack:///./src/pages/index.js","webpack:///./src/pages/login.js","webpack:///./src/pages/home.js","webpack:///./src/pages/user/user-form.js"],"names":["UserPage","props","state","list","handleDelete","bind","user","this","dispatch","userActions","remove","id","componentDidMount","getAll","getDerivedStateFromProps","newState","render","title","isBordered","isStriped","isNarrow","length","map","u","index","key","name","email","to","className","onClick","Component","connect","PrivateRoute","component","location","rest","isLoggedIn","pathname","navigate","App","path","exact","HomePage","UserFormPage","data","password","handleChange","handleSubmit","e","setState","target","value","preventDefault","authActions","login","method","onSubmit","type","onChange","placeholder","isGrouped","isColor","save","get","single","console","log"],"mappings":"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","file":"component---src-pages-index-js-9a1d8280c92330b20f7f.js","sourcesContent":["import React, { Component } from \"react\"\nimport { Link } from \"gatsby\"\nimport Layout from \"../../components/layout\"\nimport SEO from \"../../components/seo\"\nimport { connect } from \"react-redux\";\nimport { userActions } from '../../redux/actions/';\nimport { Title, Subtitle, Table, Button } from 'bloomer';\n\nclass UserPage extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      list: []\n    }\n\n    this.handleDelete = this.handleDelete.bind(this)\n\n  }\n\n  handleDelete(user) {\n    this.props.dispatch(userActions.remove(user.id))\n\n  }\n\n  componentDidMount() {\n    this.props.dispatch(userActions.getAll())\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    let newState = state\n\n    if (props.user.list){\n      let list = props.user.list\n      newState = {\n        ...newState,\n        list\n      }\n    }\n\n    return newState\n  }\n\n  render () {\n    const { list } = this.state\n\n    return (\n      <Layout>\n        <SEO title=\"Menampilkan data user\"/>\n        <Title>User</Title>\n        <Subtitle>Menampilkan data user</Subtitle>\n        <Table isBordered isStriped isNarrow>\n          <thead>\n              <tr>\n                  <th>Name</th>\n                  <th>Email</th>\n                  <th></th>\n              </tr>\n          </thead>\n          <tbody>\n          { list.length > 0 && list.map((u, index) =>\n              <tr key={ index }>\n                <td>{ u.name }</td>\n                <td>{ u.email }</td>\n                <td>\n                <Link to={`/user/${u.id}/edit`} className=\"button is-light\">\n                  Edit\n                </Link>&nbsp;\n                <Button className=\"button is-danger\" onClick={() => this.handleDelete(u)}>\n                  Delete\n                </Button>\n                </td>\n              </tr>\n          ) }\n          </tbody>\n      </Table>\n      </Layout>\n    )\n  }\n\n}\n\nconst mapStateToProps = ({ user }) => {\n  return { user }\n}\n\nexport default connect(mapStateToProps)(UserPage);\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { navigate } from \"gatsby\"\nimport { isLoggedIn } from \"../utils/auth\"\n\nconst PrivateRoute = ({ component: Component, location, ...rest }) => {\n  if (!isLoggedIn() && location.pathname !== `/login`) {\n    // If weâ€™re not logged in, redirect to the home page.\n    navigate(`/login`)\n    return null\n  }\n\n  return <Component {...rest} />\n}\n\nPrivateRoute.propTypes = {\n  component: PropTypes.any.isRequired,\n}\n\nexport default PrivateRoute\n","import React from \"react\"\nimport { Router, Location } from \"@reach/router\"\nimport PrivateRoute from \"../components/PrivateRoute\"\n\nimport UserPage from \"./user/user-page\"\nimport UserFormPage from \"./user/user-form\"\nimport HomePage from \"./home\"\nimport LoginPage from \"./login\"\n\nconst App = () => (\n  <Location>\n    {({ location }) => (\n      <Router className=\"router\">\n        <LoginPage path=\"/login\"/>\n        <PrivateRoute exact path=\"/\" component={HomePage}/>\n        <PrivateRoute path=\"/user\" component={UserPage}/>\n        <PrivateRoute path=\"/user/:id/edit\" component={UserFormPage}/>\n      </Router>\n    )}\n  </Location>\n)\nexport default App\n","import React, { Component } from \"react\"\nimport { Link } from \"gatsby\"\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport { connect } from \"react-redux\";\nimport { authActions } from '../redux/actions/';\n\nimport { Title, Field, Label, Control, Input, Button } from 'bloomer';\n\nclass UserFormPage extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: {\n        email: '',\n        password: ''\n      }\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    const { data } = this.state\n    this.setState({\n      data: {\n        ...data,\n        [e.target.name]: e.target.value\n      }\n    })\n  }\n\n  handleSubmit(e) {\n    e.preventDefault()\n    let data = this.state.data\n    this.props.dispatch(authActions.login(data))\n  }\n\n  render() {\n    const { data } = this.state\n\n    return (\n      <Layout>\n        <SEO title=\"Login Page\"/>\n        <Title>Login Page</Title>\n        <form\n          method=\"post\"\n          onSubmit={e => {\n            this.handleSubmit(e)\n          }}\n        >\n        <Field>\n          <Label>Email Address</Label>\n          <Control>\n              <Input\n              type=\"text\"\n              name=\"email\"\n              value={data.email}\n              onChange={this.handleChange}\n              placeholder='Email Address' />\n          </Control>\n        </Field>\n        <Field>\n          <Label>Password</Label>\n          <Control>\n              <Input\n              type=\"password\"\n              name=\"password\"\n              value={data.password}\n              onChange={this.handleChange}\n              placeholder='Password' />\n          </Control>\n        </Field>\n        <Field isGrouped>\n          <Control>\n            <Button isColor='primary' type='submit'>Login</Button>\n          </Control>\n          <Control>\n            <Link to=\"/user\" className=\"button is-link\">Back</Link>\n          </Control>\n        </Field>\n        </form>\n      </Layout>\n    )\n  }\n\n}\n\nconst mapStateToProps = ({ user }) => {\n  return { user }\n}\n\nexport default connect(mapStateToProps)(UserFormPage);\n","import React from \"react\"\nimport { Link } from \"gatsby\"\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\n\nconst HomePage = () => (\n  <Layout>\n    <SEO title=\"Home Page\" />\n    <h1>Hi from the home Page</h1>\n    <Link to=\"/user\">User</Link>\n  </Layout>\n)\n\nexport default HomePage\n","import React, { Component } from \"react\"\nimport { Link } from \"gatsby\"\nimport Layout from \"../../components/layout\"\nimport SEO from \"../../components/seo\"\nimport { connect } from \"react-redux\";\nimport { userActions } from '../../redux/actions/';\n\nimport { Title, Subtitle, Field, Label, Control, Input, Button } from 'bloomer';\n\nclass UserFormPage extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: {\n        name: '',\n        email: ''\n      }\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    const { data } = this.state\n    this.setState({\n      data: {\n        ...data,\n        [e.target.name]: e.target.value\n      }\n    })\n  }\n\n  handleSubmit(e) {\n    e.preventDefault()\n    let data = this.state.data\n    this.props.dispatch(userActions.save(data, this.props.id))\n  }\n\n  componentDidMount() {\n    this.props.dispatch(userActions.get(this.props.id))\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    let newState = state\n\n    if (props.user.single && state.user !== props.user.single){\n      let user = props.user.single\n      newState = {\n        ...newState,\n        user,\n        data: {\n          name: user.name,\n          email: user.email\n        }\n      }\n    }\n\n    return newState\n  }\n\n  render() {\n    const { data } = this.state\n    console.log(data)\n    return (\n      <Layout>\n        <SEO title=\"Edit data user\"/>\n        <Title>User</Title>\n        <Subtitle>Edit Data</Subtitle>\n        <form\n          method=\"post\"\n          onSubmit={e => {\n            this.handleSubmit(e)\n          }}\n        >\n        <Field>\n          <Label>Name</Label>\n          <Control>\n              <Input\n              type=\"text\"\n              name=\"name\"\n              value={data.name}\n              onChange={this.handleChange}\n              placeholder='Name' />\n          </Control>\n        </Field>\n        <Field>\n          <Label>Email</Label>\n          <Control>\n              <Input\n              type=\"text\"\n              name=\"email\"\n              value={data.email}\n              onChange={this.handleChange}\n              placeholder='Email' />\n          </Control>\n        </Field>\n        <Field isGrouped>\n          <Control>\n            <Button isColor='primary' type='submit'>Submit</Button>\n          </Control>\n          <Control>\n            <Link to=\"/user\" className=\"button is-link\">Back</Link>\n          </Control>\n        </Field>\n        </form>\n      </Layout>\n    )\n  }\n\n}\n\nconst mapStateToProps = ({ user }) => {\n  return { user }\n}\n\nexport default connect(mapStateToProps)(UserFormPage);\n"],"sourceRoot":""}