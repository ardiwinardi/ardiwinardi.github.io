{"version":3,"sources":["webpack:///./src/pages/user/user-page.js"],"names":["UserPage","props","state","list","showDeleteModal","selectedUser","handleDelete","bind","hideDeleteModal","this","dispatch","userActions","remove","id","user","setState","componentDidMount","getAll","getDerivedStateFromProps","newState","render","title","isBordered","isStriped","isNarrow","length","map","u","index","key","name","email","to","className","onClick","isActive","isColor","Component","connect"],"mappings":"sVASMA,E,oBAEJ,WAAYC,GAAQ,IAAD,SACjB,cAAMA,IAAN,MAEKC,MAAQ,CACXC,KAAM,GACNC,iBAAiB,EACjBC,aAAc,MAGhB,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,MACpB,EAAKC,gBAAkB,EAAKA,gBAAgBD,KAArB,MAVN,E,kHAcnBD,aAAA,WACEG,KAAKR,MAAMS,SAASC,IAAYC,OAAOH,KAAKP,MAAMG,aAAaQ,KAC/DJ,KAAKD,mB,EAGPJ,gBAAA,SAAgBU,GACdL,KAAKM,SAAS,CAAEV,aAAcS,EAAMV,iBAAiB,K,EAGvDI,gBAAA,WACEC,KAAKM,SAAS,CAAEX,iBAAiB,K,EAGnCY,kBAAA,WACEP,KAAKR,MAAMS,SAASC,IAAYM,W,EAG3BC,yBAAP,SAAgCjB,EAAOC,GACrC,IAAIiB,EAAWjB,EAEf,GAAID,EAAMa,KAAKX,KAAK,CAClB,IAAIA,EAAOF,EAAMa,KAAKX,KACtBgB,EAAQ,iBACHA,EADG,CAENhB,SAIJ,OAAOgB,G,EAGTC,OAAA,WAAW,IAAD,OACAjB,EAASM,KAAKP,MAAdC,KAER,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKkB,MAAM,0BACX,kBAAC,QAAD,aACA,kBAAC,WAAD,8BACA,kBAAC,QAAD,CAAOC,YAAU,EAACC,WAAS,EAACC,UAAQ,GAClC,+BACI,4BACI,oCACA,qCACA,+BAGR,+BACErB,EAAKsB,OAAS,GAAKtB,EAAKuB,KAAI,SAACC,EAAGC,GAAJ,OAC1B,wBAAIC,IAAMD,GACR,4BAAMD,EAAEG,MACR,4BAAMH,EAAEI,OACR,4BACA,kBAAC,IAAD,CAAMC,GAAE,SAAWL,EAAEd,GAAb,QAAwBoB,UAAU,mBAA1C,OAEE,kBAAC,OAAD,CAAMA,UAAU,sBAHlB,IAKA,kBAAC,SAAD,CAAQA,UAAU,mBAAmBC,QAAS,kBAAM,EAAK9B,gBAAgBuB,KAAzE,iBAQTlB,KAAKP,MAAMG,cACV,kBAAC,QAAD,CAAO8B,SAAU1B,KAAKP,MAAME,iBAC1B,kBAAC,kBAAD,MACA,kBAAC,YAAD,KACI,kBAAC,kBAAD,KACI,kBAAC,iBAAD,mBACA,kBAAC,SAAD,OAEJ,kBAAC,gBAAD,mBACgBK,KAAKP,MAAMG,aAAayB,KADxC,MAGA,kBAAC,kBAAD,KACI,kBAAC,SAAD,CAAQM,QAAQ,SAASF,QAAS,kBAAM,EAAK5B,iBAA7C,UACA,kBAAC,SAAD,CAAQ8B,QAAQ,UAAUF,QAAS,kBAAM,EAAK1B,oBAA9C,e,GA9FK6B,aA8GRC,6BAJS,SAAC,GACvB,MAAO,CAAExB,KAD2B,EAAXA,QAIZwB,CAAyBtC","file":"component---src-pages-user-user-page-js-871eabe82ffbfbb5306b.js","sourcesContent":["import React, { Component } from \"react\"\nimport { Link } from \"gatsby\"\nimport Layout from \"../../components/layout\"\nimport SEO from \"../../components/seo\"\nimport { connect } from \"react-redux\";\nimport { userActions } from '../../redux/actions/';\nimport { Title, Subtitle, Table, Button } from 'bloomer';\nimport { Modal, ModalBackground, ModalCard, ModalCardHeader, ModalCardTitle, Delete, ModalCardBody, ModalCardFooter, Icon } from 'bloomer';\n\nclass UserPage extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      list: [],\n      showDeleteModal: false,\n      selectedUser: null\n    }\n\n    this.handleDelete = this.handleDelete.bind(this)\n    this.hideDeleteModal = this.hideDeleteModal.bind(this)\n\n  }\n\n  handleDelete() {\n    this.props.dispatch(userActions.remove(this.state.selectedUser.id))\n    this.hideDeleteModal()\n  }\n\n  showDeleteModal(user){\n    this.setState({ selectedUser: user, showDeleteModal: true })\n  }\n\n  hideDeleteModal(){\n    this.setState({ showDeleteModal: false })\n  }\n\n  componentDidMount() {\n    this.props.dispatch(userActions.getAll())\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    let newState = state\n\n    if (props.user.list){\n      let list = props.user.list\n      newState = {\n        ...newState,\n        list\n      }\n    }\n\n    return newState\n  }\n\n  render () {\n    const { list } = this.state\n\n    return (\n      <Layout>\n        <SEO title=\"Menampilkan data user\"/>\n        <Title>User</Title>\n        <Subtitle>Menampilkan data user</Subtitle>\n        <Table isBordered isStriped isNarrow>\n          <thead>\n              <tr>\n                  <th>Name</th>\n                  <th>Email</th>\n                  <th></th>\n              </tr>\n          </thead>\n          <tbody>\n          { list.length > 0 && list.map((u, index) =>\n              <tr key={ index }>\n                <td>{ u.name }</td>\n                <td>{ u.email }</td>\n                <td>\n                <Link to={`/user/${u.id}/edit`} className=\"button is-light\">\n                  Edit\n                  <Icon className=\"fa fa-home fa-lg\" />\n                </Link>&nbsp;\n                <Button className=\"button is-danger\" onClick={() => this.showDeleteModal(u)}>\n                  Delete\n                </Button>\n                </td>\n              </tr>\n          ) }\n          </tbody>\n      </Table>\n      {this.state.selectedUser &&\n        <Modal isActive={this.state.showDeleteModal}>\n          <ModalBackground />\n          <ModalCard>\n              <ModalCardHeader>\n                  <ModalCardTitle>Hapus Data</ModalCardTitle>\n                  <Delete />\n              </ModalCardHeader>\n              <ModalCardBody>\n                  Hapus user {this.state.selectedUser.name} ?\n              </ModalCardBody>\n              <ModalCardFooter>\n                  <Button isColor='danger' onClick={() => this.handleDelete()}>Delete</Button>\n                  <Button isColor='warning' onClick={() => this.hideDeleteModal()}>Cancel</Button>\n              </ModalCardFooter>\n          </ModalCard>\n        </Modal>\n      }\n\n    </Layout>\n    )\n  }\n\n}\n\nconst mapStateToProps = ({ user }) => {\n  return { user }\n}\n\nexport default connect(mapStateToProps)(UserPage);\n"],"sourceRoot":""}