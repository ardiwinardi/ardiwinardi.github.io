{"version":3,"sources":["webpack:///./src/pages/user/user-page.js","webpack:///./src/components/PrivateRoute.js","webpack:///./src/pages/index.js","webpack:///./src/pages/login.js","webpack:///./src/pages/home.js","webpack:///./src/pages/user/user-form.js"],"names":["UserPage","props","state","list","showDeleteModal","selectedUser","handleDelete","bind","hideDeleteModal","this","dispatch","userActions","remove","id","user","setState","componentDidMount","getAll","getDerivedStateFromProps","newState","render","title","isBordered","isStriped","isNarrow","length","map","u","index","key","name","email","to","className","onClick","isActive","isColor","Component","connect","isBrowser","window","PrivateRoute","component","location","rest","isLoggedIn","pathname","navigate","App","path","exact","HomePage","UserFormPage","data","password","handleChange","handleSubmit","e","target","value","preventDefault","authActions","login","class","method","onSubmit","type","onChange","placeholder","save","get","single","isGrouped","isLoading","loading"],"mappings":"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","file":"component---src-pages-index-js-7c94bd67312386bf9ecb.js","sourcesContent":["import React, { Component } from \"react\"\nimport { Link } from \"gatsby\"\nimport Layout from \"../../components/layout\"\nimport SEO from \"../../components/seo\"\nimport { connect } from \"react-redux\";\nimport { userActions } from '../../redux/actions/';\nimport { Title, Subtitle, Table, Button } from 'bloomer';\nimport { Modal, ModalBackground, ModalCard, ModalCardHeader, ModalCardTitle, Delete, ModalCardBody, ModalCardFooter, Icon } from 'bloomer';\n\nclass UserPage extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      list: [],\n      showDeleteModal: false,\n      selectedUser: null\n    }\n\n    this.handleDelete = this.handleDelete.bind(this)\n    this.hideDeleteModal = this.hideDeleteModal.bind(this)\n\n  }\n\n  handleDelete() {\n    this.props.dispatch(userActions.remove(this.state.selectedUser.id))\n    this.hideDeleteModal()\n  }\n\n  showDeleteModal(user){\n    this.setState({ selectedUser: user, showDeleteModal: true })\n  }\n\n  hideDeleteModal(){\n    this.setState({ showDeleteModal: false })\n  }\n\n  componentDidMount() {\n    this.props.dispatch(userActions.getAll())\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    let newState = state\n\n    if (props.user.list){\n      let list = props.user.list\n      newState = {\n        ...newState,\n        list\n      }\n    }\n\n    return newState\n  }\n\n  render () {\n    const { list } = this.state\n\n    return (\n      <Layout>\n        <SEO title=\"Menampilkan data user\"/>\n        <Title>User</Title>\n        <Subtitle>Menampilkan data user</Subtitle>\n        <Table isBordered isStriped isNarrow>\n          <thead>\n              <tr>\n                  <th>Name</th>\n                  <th>Email</th>\n                  <th></th>\n              </tr>\n          </thead>\n          <tbody>\n          { list.length > 0 && list.map((u, index) =>\n              <tr key={ index }>\n                <td>{ u.name }</td>\n                <td>{ u.email }</td>\n                <td>\n                <Link to={`/user/${u.id}/edit`} className=\"button is-light\">\n                  Edit\n                  <Icon className=\"fa fa-home fa-lg\" />\n                </Link>&nbsp;\n                <Button className=\"button is-danger\" onClick={() => this.showDeleteModal(u)}>\n                  Delete\n                </Button>\n                </td>\n              </tr>\n          ) }\n          </tbody>\n      </Table>\n      {this.state.selectedUser &&\n        <Modal isActive={this.state.showDeleteModal}>\n          <ModalBackground />\n          <ModalCard>\n              <ModalCardHeader>\n                  <ModalCardTitle>Hapus Data</ModalCardTitle>\n                  <Delete />\n              </ModalCardHeader>\n              <ModalCardBody>\n                  Hapus user {this.state.selectedUser.name} ?\n              </ModalCardBody>\n              <ModalCardFooter>\n                  <Button isColor='danger' onClick={() => this.handleDelete()}>Delete</Button>\n                  <Button isColor='warning' onClick={() => this.hideDeleteModal()}>Cancel</Button>\n              </ModalCardFooter>\n          </ModalCard>\n        </Modal>\n      }\n\n    </Layout>\n    )\n  }\n\n}\n\nconst mapStateToProps = ({ user }) => {\n  return { user }\n}\n\nexport default connect(mapStateToProps)(UserPage);\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { navigate } from \"gatsby\"\nimport { isLoggedIn } from \"../utils/auth\"\n\nconst isBrowser = typeof window !== `undefined`\n\nconst PrivateRoute = ({ component: Component, location, ...rest }) => {\n  if (!isLoggedIn() && location.pathname !== `/login`) {\n    // If weâ€™re not logged in, redirect to the home page.\n    if (isBrowser) navigate(`/login`)\n    return null\n  }\n\n  return <Component {...rest} />\n}\n\nPrivateRoute.propTypes = {\n  component: PropTypes.any.isRequired,\n}\n\nexport default PrivateRoute\n","import React from \"react\"\nimport { Router, Location } from \"@reach/router\"\nimport PrivateRoute from \"../components/PrivateRoute\"\n\nimport UserPage from \"./user/user-page\"\nimport UserFormPage from \"./user/user-form\"\nimport HomePage from \"./home\"\nimport LoginPage from \"./login\"\n\nconst App = () => (\n  <Location>\n    {({ location }) => (\n      <Router className=\"router\">\n        <LoginPage path=\"/login\"/>\n        <PrivateRoute exact path=\"/\" component={HomePage}/>\n        <PrivateRoute path=\"/user\" component={UserPage}/>\n        <PrivateRoute path=\"/user/:id/edit\" component={UserFormPage}/>\n      </Router>\n    )}\n  </Location>\n)\nexport default App\n","import React, { Component } from \"react\"\nimport { Link } from \"gatsby\"\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport { connect } from \"react-redux\";\nimport { authActions } from '../redux/actions/';\n\nimport { Title, Field, Label, Control, Input, Button, Columns, Column } from 'bloomer';\n\nclass UserFormPage extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: {\n        email: '',\n        password: ''\n      }\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    const { data } = this.state\n    this.setState({\n      data: {\n        ...data,\n        [e.target.name]: e.target.value\n      }\n    })\n  }\n\n  handleSubmit(e) {\n    e.preventDefault()\n    let data = this.state.data\n    this.props.dispatch(authActions.login(data))\n  }\n\n  render() {\n    const { data } = this.state\n\n    return (\n      <Layout>\n        <SEO title=\"Login Page\"/>\n        <section class=\"section hero\">\n          <div class=\"hero-body\">\n            <div class=\"container\">\n              <div class=\"columns is-centered\">\n                <div class=\"column is-two-fifths\">\n                  <div class=\"card\">\n                    <div class=\"card-content\">\n                      <form\n                        method=\"post\"\n                        onSubmit={e => {\n                          this.handleSubmit(e)\n                        }}\n                      >\n                        <div class=\"field\">\n                          <label class=\"label\">E-mail Address</label>\n                          <div class=\"control is-clearfix\">\n                            <Input\n                            type=\"text\"\n                            name=\"email\"\n                            value={data.email}\n                            onChange={this.handleChange}\n                            placeholder='Email Address' />\n                          </div>\n                        </div>\n                        <div class=\"field\">\n                          <label class=\"label\">Password</label>\n                          <div class=\"control is-clearfix\">\n                            <Input\n                            type=\"password\"\n                            name=\"password\"\n                            value={data.password}\n                            onChange={this.handleChange}\n                            placeholder='Password' />\n                          </div>\n                        </div>\n                        <hr/>\n                        <div class=\"field is-grouped\">\n                          <div class=\"control\">\n                            <Button isColor='primary' type='submit'>Login</Button>\n                          </div>\n                          <div class=\"control\">\n                            <Link to=\"/user\" className=\"button is-link\">Back</Link>\n                          </div>\n                        </div>\n                      </form>\n\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      </Layout>\n    )\n  }\n\n}\n\nconst mapStateToProps = ({ user }) => {\n  return { user }\n}\n\nexport default connect(mapStateToProps)(UserFormPage);\n","import React from \"react\"\nimport { Link } from \"gatsby\"\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\n\nconst HomePage = () => (\n  <Layout>\n    <SEO title=\"Home Page\"/>\n      <section class=\"section is-fullheight\">\n      <h1>Hi from the home Page</h1>\n      <Link to=\"/user\">User</Link>\n    </section>\n\n  </Layout>\n)\n\nexport default HomePage\n","import React, { Component } from \"react\"\nimport { Link } from \"gatsby\"\nimport Layout from \"../../components/layout\"\nimport SEO from \"../../components/seo\"\nimport { connect } from \"react-redux\";\nimport { userActions } from '../../redux/actions/';\n\nimport { Title, Subtitle, Field, Label, Control, Input, Button } from 'bloomer';\n\nclass UserFormPage extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: {\n        name: '',\n        email: ''\n      }\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    const { data } = this.state\n    this.setState({\n      data: {\n        ...data,\n        [e.target.name]: e.target.value\n      }\n    })\n  }\n\n  handleSubmit(e) {\n    e.preventDefault()\n    let data = this.state.data\n    this.props.dispatch(userActions.save(data, this.props.id))\n  }\n\n  componentDidMount() {\n    this.props.dispatch(userActions.get(this.props.id))\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    let newState = state\n\n    if (props.user.single && state.user !== props.user.single){\n      let user = props.user.single\n      newState = {\n        ...newState,\n        user,\n        data: {\n          name: user.name,\n          email: user.email\n        }\n      }\n    }\n\n    return newState\n  }\n\n  render() {\n    const { user } = this.props\n    const { data } = this.state\n\n    return (\n      <Layout>\n        <SEO title=\"Edit data user\"/>\n        <Title>User</Title>\n        <Subtitle>Edit Data</Subtitle>\n\n        <div class=\"tile is-ancestor\">\n          <div class=\"tile is-vertical is-8\">\n            <div class=\"tile\">\n              <div class=\"tile is-parent is-vertical\">\n                <article class=\"tile is-child\">\n                  <form\n                    method=\"post\"\n                    onSubmit={e => {\n                      this.handleSubmit(e)\n                    }}\n                  >\n                  <Field>\n                    <Label>Name</Label>\n                    <Control>\n                        <Input\n                        type=\"text\"\n                        name=\"name\"\n                        value={data.name}\n                        onChange={this.handleChange}\n                        placeholder='Name' />\n                    </Control>\n                  </Field>\n                  <Field>\n                    <Label>Email</Label>\n                    <Control>\n                        <Input\n                        type=\"text\"\n                        name=\"email\"\n                        value={data.email}\n                        onChange={this.handleChange}\n                        placeholder='Email' />\n                    </Control>\n                  </Field>\n                  <Field isGrouped>\n                    <Control>\n                      <Button isColor='primary' type='submit' isLoading={user.loading}>Submit</Button>\n                    </Control>\n                    <Control>\n                      <Link to=\"/user\" className=\"button is-link\">Back</Link>\n                    </Control>\n                  </Field>\n                  </form>\n                </article>\n\n              </div>\n              <div class=\"tile is-parent\">\n                <article class=\"tile is-child\">\n\n                </article>\n              </div>\n            </div>\n          </div>\n\n        </div>\n      </Layout>\n    )\n  }\n\n}\n\nconst mapStateToProps = ({ user }) => {\n  return { user }\n}\n\nexport default connect(mapStateToProps)(UserFormPage);\n"],"sourceRoot":""}